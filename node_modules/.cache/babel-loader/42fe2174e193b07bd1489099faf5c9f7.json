{"ast":null,"code":"import _slicedToArray from\"E:\\\\chaplathanda\\\\react-redux-hooks-jwt-auth-master\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{AppBar,Toolbar,Grid,InputBase,IconButton,Badge,makeStyles,Menu,MenuItem,Fade,Button}from'@material-ui/core';import NotificationsNoneIcon from'@material-ui/icons/NotificationsNone';import ChatBubbleOutlineIcon from'@material-ui/icons/ChatBubbleOutline';import PowerSettingsNewIcon from'@material-ui/icons/PowerSettingsNew';import SearchIcon from'@material-ui/icons/Search';import Axios from'axios';import{useDispatch,useSelector}from'react-redux';import{logout}from\"../actions/auth\";// import MentorMessages from './MentorMessages'\nimport StudentMessage from'./StudentMessage';import StudentMessagePanel from'./StudentMessagePanel';import{useHistory}from\"react-router-dom\";import AccountCircleIcon from'@material-ui/icons/AccountCircle';import{TrainOutlined}from'@material-ui/icons';import{STUDENT_MESSAGE}from\"../actions/types\";var useStyles=makeStyles(function(theme){return{root:{backgroundColor:'#ede102'},searchInput:{opacity:'0.6',padding:\"0px \".concat(theme.spacing(1),\"px\"),fontSize:'0.8rem','&:hover':{backgroundColor:'#f2f2f2'},'& .MuiSvgIcon-root':{marginRight:theme.spacing(1)}},header:{paddingBottom:theme.spacing(10)},container:{}};});export default function Header(props){var history=useHistory();var _useState=useState(''),_useState2=_slicedToArray(_useState,2),notification=_useState2[0],setNotification=_useState2[1];var _useSelector=useSelector(function(state){return state.auth;}),currentUser=_useSelector.user;var dispatch=useDispatch();var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),openMessage=_useState4[0],setOpenMessage=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),openProfile=_useState6[0],setOpenProfile=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),openMessageTextBox=_useState8[0],setOpenMessageBox=_useState8[1];var _React$useState=React.useState(null),_React$useState2=_slicedToArray(_React$useState,2),anchorEl=_React$useState2[0],setAnchorEl=_React$useState2[1];var open=Boolean(anchorEl);var handleClick=function handleClick(event){setAnchorEl(event.currentTarget);};var handleClose=function handleClose(){setAnchorEl(null);};var OpenProfilePage=function OpenProfilePage(){setOpenProfile(true);setOpenMessage(false);};var OpenMessagePanel=function OpenMessagePanel(){setOpenMessage(true);setOpenProfile(false);};var openMessageBox=function openMessageBox(){setOpenMessageBox(true);};var closeMessageBox=function closeMessageBox(){setOpenMessageBox(false);};useEffect(function(){var studentemail=currentUser.email;console.log(studentemail);Axios.post('http://localhost:8080/api/get/retrievemessage',{studentemail:studentemail}).then(function(response){console.log(response);dispatch({type:STUDENT_MESSAGE,payload:{response:response}});setNotification(response.data.length);});},[]);var logOut=function logOut(){dispatch(logout());history.push(\"/login\");};var classes=useStyles();return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:classes.header},/*#__PURE__*/React.createElement(AppBar,{position:\"fixed\",className:classes.root},/*#__PURE__*/React.createElement(Toolbar,null,/*#__PURE__*/React.createElement(Grid,{container:true,alignItems:\"center\"},/*#__PURE__*/React.createElement(Grid,{item:true},/*#__PURE__*/React.createElement(InputBase,{placeholder:\"Search topics\",className:classes.searchInput,startAdornment:/*#__PURE__*/React.createElement(SearchIcon,{fontSize:\"small\"})})),/*#__PURE__*/React.createElement(Grid,{item:true,sm:true}),/*#__PURE__*/React.createElement(Grid,{item:true},/*#__PURE__*/React.createElement(IconButton,null,/*#__PURE__*/React.createElement(Badge,{badgeContent:notification,color:\"secondary\"},/*#__PURE__*/React.createElement(NotificationsNoneIcon,{fontSize:\"small\"}))),/*#__PURE__*/React.createElement(IconButton,{onClick:OpenMessagePanel},/*#__PURE__*/React.createElement(Badge,{badgeContent:notification,color:\"primary\"},/*#__PURE__*/React.createElement(ChatBubbleOutlineIcon,{fontSize:\"small\"}))),/*#__PURE__*/React.createElement(IconButton,{\"aria-controls\":\"fade-menu\",\"aria-haspopup\":\"true\",onClick:handleClick},/*#__PURE__*/React.createElement(AccountCircleIcon,null)),/*#__PURE__*/React.createElement(Menu,{id:\"fade-menu\",anchorEl:anchorEl,keepMounted:true,open:open,onClose:handleClose,TransitionComponent:Fade},/*#__PURE__*/React.createElement(MenuItem,{onClick:OpenProfilePage},\"Profile\"),/*#__PURE__*/React.createElement(MenuItem,{onClick:handleClose},\"My account\"),/*#__PURE__*/React.createElement(MenuItem,{onClick:logOut},\"Logout\"))))))),/*#__PURE__*/React.createElement(\"div\",null,openProfile&&/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(StudentMessage,null)),openMessage&&/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Button,{onClick:openMessageBox},\"Post Your Query\"),openMessageTextBox&&/*#__PURE__*/React.createElement(StudentMessage,{closeMessageBox:closeMessageBox}),/*#__PURE__*/React.createElement(StudentMessagePanel,null))));}","map":{"version":3,"sources":["E:/chaplathanda/react-redux-hooks-jwt-auth-master/frontend/src/components/studentBoard.js"],"names":["React","useEffect","useState","AppBar","Toolbar","Grid","InputBase","IconButton","Badge","makeStyles","Menu","MenuItem","Fade","Button","NotificationsNoneIcon","ChatBubbleOutlineIcon","PowerSettingsNewIcon","SearchIcon","Axios","useDispatch","useSelector","logout","StudentMessage","StudentMessagePanel","useHistory","AccountCircleIcon","TrainOutlined","STUDENT_MESSAGE","useStyles","theme","root","backgroundColor","searchInput","opacity","padding","spacing","fontSize","marginRight","header","paddingBottom","container","Header","props","history","notification","setNotification","state","auth","currentUser","user","dispatch","openMessage","setOpenMessage","openProfile","setOpenProfile","openMessageTextBox","setOpenMessageBox","anchorEl","setAnchorEl","open","Boolean","handleClick","event","currentTarget","handleClose","OpenProfilePage","OpenMessagePanel","openMessageBox","closeMessageBox","studentemail","email","console","log","post","then","response","type","payload","data","length","logOut","push","classes"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport { AppBar, Toolbar, Grid, InputBase, IconButton, Badge, makeStyles, Menu, MenuItem, Fade, Button } from '@material-ui/core'\r\nimport NotificationsNoneIcon from '@material-ui/icons/NotificationsNone';\r\nimport ChatBubbleOutlineIcon from '@material-ui/icons/ChatBubbleOutline';\r\nimport PowerSettingsNewIcon from '@material-ui/icons/PowerSettingsNew';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\n\r\nimport Axios from 'axios';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { logout } from \"../actions/auth\";\r\n// import MentorMessages from './MentorMessages'\r\n\r\nimport StudentMessage from './StudentMessage'\r\nimport StudentMessagePanel from './StudentMessagePanel'\r\n\r\nimport { useHistory } from \"react-router-dom\";\r\nimport AccountCircleIcon from '@material-ui/icons/AccountCircle';\r\nimport { TrainOutlined } from '@material-ui/icons';\r\n\r\nimport {\r\n    STUDENT_MESSAGE\r\n  } from \"../actions/types\"\r\n\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    root: {\r\n        backgroundColor: '#ede102',\r\n\r\n\r\n    },\r\n    searchInput: {\r\n        opacity: '0.6',\r\n        padding: `0px ${theme.spacing(1)}px`,\r\n        fontSize: '0.8rem',\r\n        '&:hover': {\r\n            backgroundColor: '#f2f2f2'\r\n        },\r\n        '& .MuiSvgIcon-root': {\r\n            marginRight: theme.spacing(1)\r\n        }\r\n    },\r\n\r\n    header: {\r\n        paddingBottom: theme.spacing(10)\r\n\r\n    },\r\n    container: {\r\n\r\n    }\r\n}))\r\n\r\nexport default function Header(props) {\r\n\r\n    let history = useHistory();\r\n\r\n    const [notification, setNotification] = useState('')\r\n\r\n    const { user: currentUser } = useSelector((state) => state.auth);\r\n    const dispatch = useDispatch();\r\n\r\n    const [openMessage, setOpenMessage] = useState(false)\r\n    const [openProfile, setOpenProfile] = useState(false)\r\n\r\n    const [openMessageTextBox,setOpenMessageBox]=useState(false)\r\n\r\n\r\n\r\n\r\n\r\n\r\n    const [anchorEl, setAnchorEl] = React.useState(null);\r\n    const open = Boolean(anchorEl);\r\n\r\n    const handleClick = (event) => {\r\n        setAnchorEl(event.currentTarget);\r\n    };\r\n\r\n    const handleClose = () => {\r\n        setAnchorEl(null);\r\n    };\r\n\r\n\r\n  const   OpenProfilePage =()=>{\r\n      setOpenProfile(true)\r\n      setOpenMessage(false)\r\n    \r\n  }\r\n\r\n\r\n  \r\nconst OpenMessagePanel =() =>{\r\n setOpenMessage(true)\r\n setOpenProfile(false)\r\n}\r\n\r\n\r\n\r\nconst openMessageBox  =()=>{\r\n\r\n    setOpenMessageBox(true)\r\n\r\n}\r\n\r\nconst closeMessageBox =()=>{\r\n    setOpenMessageBox(false)\r\n\r\n}\r\n\r\n\r\n\r\n\r\n    useEffect(() => {\r\n\r\n        const studentemail = currentUser.email\r\n\r\n        console.log(studentemail)\r\n\r\n        Axios.post('http://localhost:8080/api/get/retrievemessage', { studentemail }).then(response => {\r\n\r\n            console.log(response)\r\n\r\n\r\n            dispatch({\r\n                type:STUDENT_MESSAGE ,\r\n                payload:{response},\r\n              });\r\n\r\n\r\n\r\n\r\n\r\n\r\n            setNotification(response.data.length)\r\n\r\n\r\n        })\r\n\r\n    }, [])\r\n\r\n\r\n    const logOut = () => {\r\n        dispatch(logout());\r\n\r\n        history.push(\"/login\")\r\n\r\n\r\n    };\r\n\r\n\r\n\r\n    const classes = useStyles();\r\n\r\n    return (\r\n\r\n        <div>\r\n\r\n            <div className={classes.header}>\r\n                <AppBar position=\"fixed\" className={classes.root}>\r\n                    <Toolbar>\r\n                        <Grid container\r\n                            alignItems=\"center\">\r\n                            <Grid item>\r\n                                <InputBase\r\n                                    placeholder=\"Search topics\"\r\n                                    className={classes.searchInput}\r\n                                    startAdornment={<SearchIcon fontSize=\"small\" />}\r\n                                />\r\n                            </Grid>\r\n                            <Grid item sm></Grid>\r\n                            <Grid item>\r\n\r\n                                <IconButton>\r\n                                    <Badge badgeContent={notification} color=\"secondary\">\r\n                                        <NotificationsNoneIcon fontSize=\"small\" />\r\n                                    </Badge>\r\n                                </IconButton>\r\n                                <IconButton onClick={OpenMessagePanel}>\r\n                                    <Badge badgeContent={notification} color=\"primary\">\r\n                                        <ChatBubbleOutlineIcon fontSize=\"small\" />\r\n                                    </Badge>\r\n                                </IconButton>\r\n\r\n                                <IconButton aria-controls=\"fade-menu\" aria-haspopup=\"true\" onClick={handleClick}>\r\n                                    <AccountCircleIcon />\r\n                                </IconButton>\r\n\r\n                                <Menu\r\n                                    id=\"fade-menu\"\r\n                                    anchorEl={anchorEl}\r\n                                    keepMounted\r\n                                    open={open}\r\n                                    onClose={handleClose}\r\n                                    TransitionComponent={Fade}\r\n                                >\r\n                                    <MenuItem onClick={OpenProfilePage}>Profile</MenuItem>\r\n                                    <MenuItem onClick={handleClose}>My account</MenuItem>\r\n                                    <MenuItem onClick={logOut}>Logout</MenuItem>\r\n                                </Menu>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </Toolbar>\r\n                </AppBar>\r\n\r\n            </div>\r\n\r\n\r\n            <div >\r\n\r\n\r\n\r\n\r\n\r\n                {(openProfile) && <>\r\n                    <StudentMessage />\r\n                \r\n                 </>}\r\n\r\n               \r\n\r\n\r\n                {(openMessage) &&  <> \r\n\r\n\r\n                    <Button  onClick={openMessageBox}>Post Your Query</Button>\r\n\r\n         {(openMessageTextBox) && <StudentMessage    closeMessageBox={closeMessageBox}/>}\r\n\r\n\r\n\r\n                    <StudentMessagePanel  />\r\n                \r\n                </>}\r\n\r\n            </div>\r\n\r\n\r\n        </div>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}