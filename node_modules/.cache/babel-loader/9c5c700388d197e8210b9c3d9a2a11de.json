{"ast":null,"code":"import _slicedToArray from\"E:\\\\chaplathanda\\\\react-redux-hooks-jwt-auth-master\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{AppBar,Toolbar,Grid,InputBase,IconButton,Badge,makeStyles,Menu,MenuItem,Fade}from'@material-ui/core';import NotificationsNoneIcon from'@material-ui/icons/NotificationsNone';import ChatBubbleOutlineIcon from'@material-ui/icons/ChatBubbleOutline';import PowerSettingsNewIcon from'@material-ui/icons/PowerSettingsNew';import SearchIcon from'@material-ui/icons/Search';import ProfileData from'./ProfileData';import Axios from'axios';import{useDispatch,useSelector}from'react-redux';import{logout}from\"../actions/auth\";import MentorMessages from'./MentorMessages';import{useHistory}from\"react-router-dom\";import AccountCircleIcon from'@material-ui/icons/AccountCircle';import{TrainOutlined}from'@material-ui/icons';import{MENTOR_MESSAGE}from\"../actions/types\";var useStyles=makeStyles(function(theme){return{root:{backgroundColor:'#ede102'},searchInput:{opacity:'0.6',padding:\"0px \".concat(theme.spacing(1),\"px\"),fontSize:'0.8rem','&:hover':{backgroundColor:'#f2f2f2'},'& .MuiSvgIcon-root':{marginRight:theme.spacing(1)}},header:{paddingBottom:theme.spacing(10)},container:{}};});export default function Header(props){var history=useHistory();var _useState=useState(''),_useState2=_slicedToArray(_useState,2),notification=_useState2[0],setNotification=_useState2[1];var _useSelector=useSelector(function(state){return state.auth;}),currentUser=_useSelector.user;var dispatch=useDispatch();var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),openMessage=_useState4[0],setOpenMessage=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),openProfile=_useState6[0],setOpenProfile=_useState6[1];var _React$useState=React.useState(null),_React$useState2=_slicedToArray(_React$useState,2),anchorEl=_React$useState2[0],setAnchorEl=_React$useState2[1];var open=Boolean(anchorEl);var handleClick=function handleClick(event){setAnchorEl(event.currentTarget);};var handleClose=function handleClose(){setAnchorEl(null);};var OpenProfilePage=function OpenProfilePage(){setOpenProfile(true);setOpenMessage(false);};var OpenMessagePanel=function OpenMessagePanel(){setOpenMessage(true);setOpenProfile(false);};useEffect(function(){var mentoremail=currentUser.email;console.log(mentoremail);Axios.post('http://localhost:8080/api/get/querydataforreply',{mentoremail:mentoremail}).then(function(response){console.log(response);dispatch({type:MENTOR_MESSAGE,payload:{response:response}});setNotification(response.data.length);});},[]);var logOut=function logOut(){dispatch(logout());history.push(\"/login\");};var classes=useStyles();return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:classes.header},/*#__PURE__*/React.createElement(AppBar,{position:\"fixed\",className:classes.root},/*#__PURE__*/React.createElement(Toolbar,null,/*#__PURE__*/React.createElement(Grid,{container:true,alignItems:\"center\"},/*#__PURE__*/React.createElement(Grid,{item:true},/*#__PURE__*/React.createElement(InputBase,{placeholder:\"Search topics\",className:classes.searchInput,startAdornment:/*#__PURE__*/React.createElement(SearchIcon,{fontSize:\"small\"})})),/*#__PURE__*/React.createElement(Grid,{item:true,sm:true}),/*#__PURE__*/React.createElement(Grid,{item:true},/*#__PURE__*/React.createElement(IconButton,null,/*#__PURE__*/React.createElement(Badge,{badgeContent:notification,color:\"secondary\"},/*#__PURE__*/React.createElement(NotificationsNoneIcon,{fontSize:\"small\"}))),/*#__PURE__*/React.createElement(IconButton,{onClick:OpenMessagePanel},/*#__PURE__*/React.createElement(Badge,{badgeContent:notification,color:\"primary\"},/*#__PURE__*/React.createElement(ChatBubbleOutlineIcon,{fontSize:\"small\"}))),/*#__PURE__*/React.createElement(IconButton,{\"aria-controls\":\"fade-menu\",\"aria-haspopup\":\"true\",onClick:handleClick},/*#__PURE__*/React.createElement(AccountCircleIcon,null)),/*#__PURE__*/React.createElement(Menu,{id:\"fade-menu\",anchorEl:anchorEl,keepMounted:true,open:open,onClose:handleClose,TransitionComponent:Fade},/*#__PURE__*/React.createElement(MenuItem,{onClick:OpenProfilePage},\"Profile\"),/*#__PURE__*/React.createElement(MenuItem,{onClick:handleClose},\"My account\"),/*#__PURE__*/React.createElement(MenuItem,{onClick:logOut},\"Logout\"))))))),/*#__PURE__*/React.createElement(\"div\",null,openProfile&&/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(ProfileData,null)),openMessage&&/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(MentorMessages,null))));}","map":{"version":3,"sources":["E:/chaplathanda/react-redux-hooks-jwt-auth-master/frontend/src/components/MentorBoard.js"],"names":["React","useEffect","useState","AppBar","Toolbar","Grid","InputBase","IconButton","Badge","makeStyles","Menu","MenuItem","Fade","NotificationsNoneIcon","ChatBubbleOutlineIcon","PowerSettingsNewIcon","SearchIcon","ProfileData","Axios","useDispatch","useSelector","logout","MentorMessages","useHistory","AccountCircleIcon","TrainOutlined","MENTOR_MESSAGE","useStyles","theme","root","backgroundColor","searchInput","opacity","padding","spacing","fontSize","marginRight","header","paddingBottom","container","Header","props","history","notification","setNotification","state","auth","currentUser","user","dispatch","openMessage","setOpenMessage","openProfile","setOpenProfile","anchorEl","setAnchorEl","open","Boolean","handleClick","event","currentTarget","handleClose","OpenProfilePage","OpenMessagePanel","mentoremail","email","console","log","post","then","response","type","payload","data","length","logOut","push","classes"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport { AppBar, Toolbar, Grid, InputBase, IconButton, Badge, makeStyles, Menu, MenuItem, Fade } from '@material-ui/core'\r\nimport NotificationsNoneIcon from '@material-ui/icons/NotificationsNone';\r\nimport ChatBubbleOutlineIcon from '@material-ui/icons/ChatBubbleOutline';\r\nimport PowerSettingsNewIcon from '@material-ui/icons/PowerSettingsNew';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport ProfileData from './ProfileData'\r\nimport Axios from 'axios';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { logout } from \"../actions/auth\";\r\nimport MentorMessages from './MentorMessages'\r\n\r\n\r\nimport { useHistory } from \"react-router-dom\";\r\nimport AccountCircleIcon from '@material-ui/icons/AccountCircle';\r\nimport { TrainOutlined } from '@material-ui/icons';\r\n\r\nimport {\r\n    MENTOR_MESSAGE\r\n  } from \"../actions/types\"\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    root: {\r\n        backgroundColor: '#ede102',\r\n\r\n\r\n    },\r\n    searchInput: {\r\n        opacity: '0.6',\r\n        padding: `0px ${theme.spacing(1)}px`,\r\n        fontSize: '0.8rem',\r\n        '&:hover': {\r\n            backgroundColor: '#f2f2f2'\r\n        },\r\n        '& .MuiSvgIcon-root': {\r\n            marginRight: theme.spacing(1)\r\n        }\r\n    },\r\n\r\n    header: {\r\n        paddingBottom: theme.spacing(10)\r\n\r\n    },\r\n    container: {\r\n\r\n    }\r\n}))\r\n\r\nexport default function Header(props) {\r\n\r\n    let history = useHistory();\r\n\r\n    const [notification, setNotification] = useState('')\r\n\r\n    const { user: currentUser } = useSelector((state) => state.auth);\r\n    const dispatch = useDispatch();\r\n\r\n    const [openMessage, setOpenMessage] = useState(false)\r\n    const [openProfile, setOpenProfile] = useState(false)\r\n\r\n\r\n\r\n\r\n\r\n\r\n    const [anchorEl, setAnchorEl] = React.useState(null);\r\n    const open = Boolean(anchorEl);\r\n\r\n    const handleClick = (event) => {\r\n        setAnchorEl(event.currentTarget);\r\n    };\r\n\r\n    const handleClose = () => {\r\n        setAnchorEl(null);\r\n    };\r\n\r\n\r\n  const   OpenProfilePage =()=>{\r\n      setOpenProfile(true)\r\n      setOpenMessage(false)\r\n    \r\n  }\r\n\r\n\r\n  \r\nconst OpenMessagePanel =() =>{\r\n setOpenMessage(true)\r\n setOpenProfile(false)\r\n}\r\n\r\n\r\n\r\n\r\n\r\n    useEffect(() => {\r\n\r\n        const mentoremail = currentUser.email\r\n\r\n        console.log(mentoremail)\r\n\r\n        Axios.post('http://localhost:8080/api/get/querydataforreply', { mentoremail }).then(response => {\r\n\r\n            console.log(response)\r\n\r\n\r\n            dispatch({\r\n                type:MENTOR_MESSAGE ,\r\n                payload:{response},\r\n              });\r\n\r\n\r\n\r\n\r\n\r\n\r\n            setNotification(response.data.length)\r\n\r\n\r\n        })\r\n\r\n    }, [])\r\n\r\n\r\n    const logOut = () => {\r\n        dispatch(logout());\r\n\r\n        history.push(\"/login\")\r\n\r\n\r\n    };\r\n\r\n\r\n\r\n    const classes = useStyles();\r\n\r\n    return (\r\n\r\n        <div>\r\n\r\n            <div className={classes.header}>\r\n                <AppBar position=\"fixed\" className={classes.root}>\r\n                    <Toolbar>\r\n                        <Grid container\r\n                            alignItems=\"center\">\r\n                            <Grid item>\r\n                                <InputBase\r\n                                    placeholder=\"Search topics\"\r\n                                    className={classes.searchInput}\r\n                                    startAdornment={<SearchIcon fontSize=\"small\" />}\r\n                                />\r\n                            </Grid>\r\n                            <Grid item sm></Grid>\r\n                            <Grid item>\r\n\r\n                                <IconButton>\r\n                                    <Badge badgeContent={notification} color=\"secondary\">\r\n                                        <NotificationsNoneIcon fontSize=\"small\" />\r\n                                    </Badge>\r\n                                </IconButton>\r\n                                <IconButton onClick={OpenMessagePanel}>\r\n                                    <Badge badgeContent={notification} color=\"primary\">\r\n                                        <ChatBubbleOutlineIcon fontSize=\"small\" />\r\n                                    </Badge>\r\n                                </IconButton>\r\n\r\n                                <IconButton aria-controls=\"fade-menu\" aria-haspopup=\"true\" onClick={handleClick}>\r\n                                    <AccountCircleIcon />\r\n                                </IconButton>\r\n\r\n                                <Menu\r\n                                    id=\"fade-menu\"\r\n                                    anchorEl={anchorEl}\r\n                                    keepMounted\r\n                                    open={open}\r\n                                    onClose={handleClose}\r\n                                    TransitionComponent={Fade}\r\n                                >\r\n                                    <MenuItem onClick={OpenProfilePage}>Profile</MenuItem>\r\n                                    <MenuItem onClick={handleClose}>My account</MenuItem>\r\n                                    <MenuItem onClick={logOut}>Logout</MenuItem>\r\n                                </Menu>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </Toolbar>\r\n                </AppBar>\r\n\r\n            </div>\r\n\r\n\r\n            <div >\r\n\r\n\r\n                {(openProfile) && <>\r\n                    <ProfileData />\r\n                \r\n                 </>}\r\n\r\n               \r\n\r\n\r\n                {(openMessage) &&  <> \r\n                    <MentorMessages  />\r\n                \r\n                </>}\r\n\r\n            </div>\r\n\r\n\r\n        </div>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}