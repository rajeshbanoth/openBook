{"ast":null,"code":"import _slicedToArray from\"E:\\\\chaplathanda\\\\react-redux-hooks-jwt-auth-master\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useRef}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import{Link,Redirect}from'react-router-dom';import Form from\"react-validation/build/form\";import Input from\"react-validation/build/input\";import CheckButton from\"react-validation/build/button\";import{login}from\"../actions/auth\";var required=function required(value){if(!value){return/*#__PURE__*/React.createElement(\"div\",{className:\"alert alert-danger\",role:\"alert\"},\"This field is required!\");}};var Login=function Login(props){var form=useRef();var checkBtn=useRef();var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),username=_useState2[0],setUsername=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),loading=_useState6[0],setLoading=_useState6[1];var _useSelector=useSelector(function(state){return state.auth;}),isLoggedIn=_useSelector.isLoggedIn;var _useSelector2=useSelector(function(state){return state.message;}),message=_useSelector2.message;var dispatch=useDispatch();var onChangeUsername=function onChangeUsername(e){var username=e.target.value;setUsername(username);};var onChangePassword=function onChangePassword(e){var password=e.target.value;setPassword(password);};var handleLogin=function handleLogin(e){e.preventDefault();setLoading(true);form.current.validateAll();if(checkBtn.current.context._errors.length===0){dispatch(login(username,password)).then(function(){props.history.push(\"/homepage\");window.location.reload();}).catch(function(){setLoading(false);});}else{setLoading(false);}};if(isLoggedIn){return/*#__PURE__*/React.createElement(Redirect,{to:\"/homepage\"});}return/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-12\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card card-container\"},/*#__PURE__*/React.createElement(\"img\",{src:\"//ssl.gstatic.com/accounts/ui/avatar_2x.png\",alt:\"profile-img\",className:\"profile-img-card\"}),/*#__PURE__*/React.createElement(Form,{onSubmit:handleLogin,ref:form},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"username\"},\"Username\"),/*#__PURE__*/React.createElement(Input,{type:\"text\",className:\"form-control\",name:\"username\",value:username,onChange:onChangeUsername,validations:[required]})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"password\"},\"Password\"),/*#__PURE__*/React.createElement(Input,{type:\"password\",className:\"form-control\",name:\"password\",value:password,onChange:onChangePassword,validations:[required]})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-primary btn-block\",disabled:loading},loading&&/*#__PURE__*/React.createElement(\"span\",{className:\"spinner-border spinner-border-sm\"}),/*#__PURE__*/React.createElement(\"span\",null,\"Login\"))),/*#__PURE__*/React.createElement(\"div\",{style:{flexDirection:'row',display:'flex'}},/*#__PURE__*/React.createElement(Link,{to:\"/studentregister\",className:\"nav-link\"},/*#__PURE__*/React.createElement(\"p\",{style:{fontSize:'14.5px'}},\"Student SignUp\")),/*#__PURE__*/React.createElement(Link,{to:\"/mentorsignup\",className:\"nav-link\"},/*#__PURE__*/React.createElement(\"p\",{style:{fontSize:'14.5px'}},\"Mentor SignUp\"))),message&&/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"div\",{className:\"alert alert-danger\",role:\"alert\"},message)),/*#__PURE__*/React.createElement(CheckButton,{style:{display:\"none\"},ref:checkBtn}))));};export default Login;","map":{"version":3,"sources":["E:/chaplathanda/react-redux-hooks-jwt-auth-master/frontend/src/components/Login.js"],"names":["React","useState","useRef","useDispatch","useSelector","Link","Redirect","Form","Input","CheckButton","login","required","value","Login","props","form","checkBtn","username","setUsername","password","setPassword","loading","setLoading","state","auth","isLoggedIn","message","dispatch","onChangeUsername","e","target","onChangePassword","handleLogin","preventDefault","current","validateAll","context","_errors","length","then","history","push","window","location","reload","catch","flexDirection","display","fontSize"],"mappings":"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","sourcesContent":["import React, { useState, useRef } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Link, Redirect } from 'react-router-dom';\n\nimport Form from \"react-validation/build/form\";\nimport Input from \"react-validation/build/input\";\nimport CheckButton from \"react-validation/build/button\";\n\nimport { login } from \"../actions/auth\";\n\nconst required = (value) => {\n  if (!value) {\n    return (\n      <div className=\"alert alert-danger\" role=\"alert\">\n        This field is required!\n      </div>\n    );\n  }\n};\n\nconst Login = (props) => {\n  const form = useRef();\n  const checkBtn = useRef();\n\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n\n  const { isLoggedIn } = useSelector(state => state.auth);\n  const { message } = useSelector(state => state.message);\n\n  const dispatch = useDispatch();\n\n  const onChangeUsername = (e) => {\n    const username = e.target.value;\n    setUsername(username);\n  };\n\n  const onChangePassword = (e) => {\n    const password = e.target.value;\n    setPassword(password);\n  };\n\n  const handleLogin = (e) => {\n    e.preventDefault();\n\n    setLoading(true);\n\n    form.current.validateAll();\n\n    if (checkBtn.current.context._errors.length === 0) {\n      dispatch(login(username, password))\n        .then(() => {\n          props.history.push(\"/homepage\");\n          window.location.reload();\n        })\n        .catch(() => {\n          setLoading(false);\n        });\n    } else {\n      setLoading(false);\n    }\n  };\n\n  if (isLoggedIn) {\n    return <Redirect to=\"/homepage\" />;\n  }\n\n  return (\n    <div className=\"col-md-12\">\n      <div className=\"card card-container\">\n        <img\n          src=\"//ssl.gstatic.com/accounts/ui/avatar_2x.png\"\n          alt=\"profile-img\"\n          className=\"profile-img-card\"\n        />\n\n        <Form onSubmit={handleLogin} ref={form}>\n          <div className=\"form-group\">\n            <label htmlFor=\"username\">Username</label>\n            <Input\n              type=\"text\"\n              className=\"form-control\"\n              name=\"username\"\n              value={username}\n              onChange={onChangeUsername}\n              validations={[required]}\n            />\n          </div>\n\n          <div className=\"form-group\">\n            <label htmlFor=\"password\">Password</label>\n            <Input\n              type=\"password\"\n              className=\"form-control\"\n              name=\"password\"\n              value={password}\n              onChange={onChangePassword}\n              validations={[required]}\n            />\n          </div>\n\n          <div className=\"form-group\">\n            <button className=\"btn btn-primary btn-block\" disabled={loading}>\n              {loading && (\n                <span className=\"spinner-border spinner-border-sm\"></span>\n              )}\n              <span>Login</span>\n            </button>\n          </div>\n\n          \n               <div style={{flexDirection:'row',display:'flex'}}>\n               <Link to={\"/studentregister\"} className=\"nav-link\">\n                  <p style={{fontSize:'14.5px'}}>Student SignUp</p>\n                </Link>\n\n                <Link to={\"/mentorsignup\"} className=\"nav-link\">\n                <p style={{fontSize:'14.5px'}}>Mentor SignUp</p>\n                </Link>\n               </div>\n        \n\n          {message && (\n            <div className=\"form-group\">\n              <div className=\"alert alert-danger\" role=\"alert\">\n                {message}\n              </div>\n            </div>\n          )}\n          <CheckButton style={{ display: \"none\" }} ref={checkBtn} />\n        </Form>\n      </div>\n    </div>\n  );\n};\n\nexport default Login;"]},"metadata":{},"sourceType":"module"}