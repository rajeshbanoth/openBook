{"ast":null,"code":"import _slicedToArray from\"E:\\\\chaplathanda\\\\react-redux-hooks-jwt-auth-master\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import{Router,Switch,Route,Link}from\"react-router-dom\";import\"bootstrap/dist/css/bootstrap.min.css\";import\"./App.css\";import Login from\"./components/Login\";import Register from\"./components/Register\";import Home from\"./components/Home\";import Profile from\"./components/Profile\";import BoardUser from\"./components/BoardUser\";import BoardModerator from\"./components/BoardModerator\";import BoardAdmin from\"./components/BoardAdmin\";import FileUpload from'./components/FileUpload';import Homepage from'./components/Homepage';import{login,logout}from\"./actions/auth\";import{clearMessage}from\"./actions/message\";import{history}from\"./helpers/history\";import StudentSignup from'./components/StudentSignup';import StudentSignin from'./components/StudentLogin';import StudentBoard from'./components/studentBoard';import MentorBoard from'./components/MentorBoard';import MentorMessageComponent from'./components/MentorMessages';import MentorSignup from'./components/MentorSignup';var App=function App(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showModeratorBoard=_useState2[0],setShowModeratorBoard=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),showAdminBoard=_useState4[0],setShowAdminBoard=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),showstudentBoard=_useState6[0],setShowStudentBoard=_useState6[1];var _useSelector=useSelector(function(state){return state.auth;}),currentUser=_useSelector.user;var dispatch=useDispatch();useEffect(function(){history.listen(function(location){dispatch(clearMessage());// clear message when changing location\n});},[dispatch]);useEffect(function(){if(currentUser){setShowModeratorBoard(currentUser.roles.includes(\"ROLE_MODERATOR\"));setShowAdminBoard(currentUser.roles.includes(\"ROLE_ADMIN\"));setShowStudentBoard(currentUser.roles.includes(\"ROLE_STUDENT\"));}},[currentUser]);var logOut=function logOut(){dispatch(logout());};return/*#__PURE__*/React.createElement(Router,{history:history},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(React.Fragment,null),/*#__PURE__*/React.createElement(\"div\",{className:\"container mt-3\"},/*#__PURE__*/React.createElement(Switch,null,/*#__PURE__*/React.createElement(Route,{exact:true,path:[\"/\",\"/home\"],component:Login}),/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/login\",component:Login}),/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/register\",component:Register}),/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/profile\",component:Profile}),/*#__PURE__*/React.createElement(Route,{path:\"/user\",component:BoardUser}),/*#__PURE__*/React.createElement(Route,{path:\"/mod\",component:BoardModerator}),/*#__PURE__*/React.createElement(Route,{path:\"/admin\",component:BoardAdmin}),/*#__PURE__*/React.createElement(Route,{path:\"/FileUpload\",component:FileUpload}),/*#__PURE__*/React.createElement(Route,{path:\"/studentregister\",component:StudentSignup}),/*#__PURE__*/React.createElement(Route,{path:\"/homepage\",component:Homepage}),/*#__PURE__*/React.createElement(Route,{path:\"/mentorsignup\",component:MentorSignup})))));};export default App;","map":{"version":3,"sources":["E:/chaplathanda/react-redux-hooks-jwt-auth-master/frontend/src/App.js"],"names":["React","useState","useEffect","useDispatch","useSelector","Router","Switch","Route","Link","Login","Register","Home","Profile","BoardUser","BoardModerator","BoardAdmin","FileUpload","Homepage","login","logout","clearMessage","history","StudentSignup","StudentSignin","StudentBoard","MentorBoard","MentorMessageComponent","MentorSignup","App","showModeratorBoard","setShowModeratorBoard","showAdminBoard","setShowAdminBoard","showstudentBoard","setShowStudentBoard","state","auth","currentUser","user","dispatch","listen","location","roles","includes","logOut"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Router, Switch, Route, Link } from \"react-router-dom\";\n\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"./App.css\";\n\nimport Login from \"./components/Login\";\nimport Register from \"./components/Register\";\nimport Home from \"./components/Home\";\nimport Profile from \"./components/Profile\";\nimport BoardUser from \"./components/BoardUser\";\nimport BoardModerator from \"./components/BoardModerator\";\nimport BoardAdmin from \"./components/BoardAdmin\";\nimport FileUpload from  './components/FileUpload';\n\nimport Homepage from './components/Homepage'\n\n\nimport { login, logout } from \"./actions/auth\";\nimport { clearMessage } from \"./actions/message\";\n\nimport { history } from \"./helpers/history\";\n\nimport StudentSignup from './components/StudentSignup'\nimport StudentSignin from './components/StudentLogin'\n\nimport StudentBoard from  './components/studentBoard'\nimport MentorBoard from  './components/MentorBoard'\nimport MentorMessageComponent from './components/MentorMessages'\nimport MentorSignup from './components/MentorSignup'\n\nconst App = () => {\n  const [showModeratorBoard, setShowModeratorBoard] = useState(false);\n  const [showAdminBoard, setShowAdminBoard] = useState(false);\n\n  const [showstudentBoard, setShowStudentBoard] = useState(false);\n\n  const { user: currentUser } = useSelector((state) => state.auth);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    history.listen((location) => {\n      dispatch(clearMessage()); // clear message when changing location\n    });\n  }, [dispatch]);\n\n  useEffect(() => {\n    if (currentUser) {\n      setShowModeratorBoard(currentUser.roles.includes(\"ROLE_MODERATOR\"));\n      setShowAdminBoard(currentUser.roles.includes(\"ROLE_ADMIN\"));\n      setShowStudentBoard(currentUser.roles.includes(\"ROLE_STUDENT\"))\n    \n    }\n  }, [currentUser]);\n\n  const logOut = () => {\n    dispatch(logout());\n  };\n\n  return (\n    <Router history={history}>\n      <div>\n\n\n\n\n\n\n\n\n\n        {/* <nav className=\"navbar navbar-expand navbar-dark bg-dark\">\n          <Link to={\"/\"} className=\"navbar-brand\">\n            OpenBook\n          </Link>\n          <div className=\"navbar-nav mr-auto\">\n            <li className=\"nav-item\">\n              <Link to={\"/home\"} className=\"nav-link\">\n                Home\n              </Link>\n            </li>\n\n            {showModeratorBoard && (\n              <li className=\"nav-item\">\n                <Link to={\"/mod\"} className=\"nav-link\">\n                  Moderator Board\n                </Link>\n              </li>\n            )}\n\n{showstudentBoard && (\n              <li className=\"nav-item\">\n                <Link to={\"/StudentBoard\"} className=\"nav-link\">\n                     StudentBoard\n                </Link>\n              </li>\n            )}\n\n\n\n\n\n            {showAdminBoard && (\n              <li className=\"nav-item\">\n                <Link to={\"/admin\"} className=\"nav-link\">\n                  Admin Board\n                </Link>\n              </li>\n            )}\n\n            {currentUser && (\n              <li className=\"nav-item\">\n                <Link to={\"/user\"} className=\"nav-link\">\n                  User\n                </Link>\n              </li>\n            )}\n          </div>\n\n\n\n\n\n\n\n          \n\n          {currentUser ? (\n            <div className=\"navbar-nav ml-auto\">\n              <li className=\"nav-item\">\n                <Link to={\"/FileUpload\"} className=\"nav-link\">\n                  Upload \n                </Link>\n              </li>\n              <li className=\"nav-item\">\n                <Link to={\"/personaldata\"} className=\"nav-link\">\n                 personaldata \n                </Link>\n              </li>\n\n              <li className=\"nav-item\">\n                <Link to={\"/profile\"} className=\"nav-link\">\n                  {currentUser.username}\n                </Link>\n              </li>\n              <li className=\"nav-item\">\n                <a href=\"/login\" className=\"nav-link\" onClick={logOut}>\n                  LogOut\n                </a>\n              </li>\n            </div>\n          ) : (\n            <div className=\"navbar-nav ml-auto\">\n              <li className=\"nav-item\">\n                <Link to={\"/login\"} className=\"nav-link\">\n                  Login\n                </Link>\n              </li>\n\n              <li className=\"nav-item\">\n                <Link to={\"/register\"} className=\"nav-link\">\n                  Sign Up\n                </Link>\n              </li>\n              <li className=\"nav-item\">\n                <Link to={\"/studentregister\"} className=\"nav-link\">\n                  Student Sign Up\n                </Link>\n              </li>\n\n              {/* <li className=\"nav-item\">\n                <Link to={\"/studentlogin\"} className=\"nav-link\">\n                 Student login\n                </Link>\n              </li> */}\n\n            {/* </div> */}\n          {/* )} */}\n        {/* </nav> */} \n\n\n        <>\n\n        {/* {currentUser && (\n              <MentorBoard />\n            )} */}\n\n{/* \n{showstudentBoard && (\n              <>\n\n              <StudentBoard />\n              </>\n            )} */}\n        </>\n\n        <div className=\"container mt-3\">\n          <Switch>\n            <Route exact path={[\"/\", \"/home\"]} component={Login} />\n            <Route exact path=\"/login\" component={Login} />\n            <Route exact path=\"/register\" component={Register} />\n            <Route exact path=\"/profile\" component={Profile} />\n            <Route path=\"/user\" component={BoardUser} />\n            <Route path=\"/mod\" component={BoardModerator} />\n            <Route path=\"/admin\" component={BoardAdmin} />\n            <Route path=\"/FileUpload\" component={FileUpload} />\n\n           \n            <Route path=\"/studentregister\" component={StudentSignup} />\n\n            {/* <Route path=\"/StudentBoard\" component={StudentBoard} /> */}\n            \n            {/* <Route path=\"/MentorBoard\" component={MentorBoard} /> */}\n            <Route path=\"/homepage\" component={Homepage} />\n            {/* <Route path=\"/mentormessages\" component={MentorMessageComponent} /> */}\n\n<Route path='/mentorsignup' component={MentorSignup} />\n            {/* <Route path=\"/studentlogin\" component={StudentSignin} /> */}\n\n\n\n          </Switch>\n        </div>\n      </div>\n    </Router>\n  );\n};\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}