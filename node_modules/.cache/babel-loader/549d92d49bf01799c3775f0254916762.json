{"ast":null,"code":"import _defineProperty from\"E:\\\\chaplathanda\\\\react-redux-hooks-jwt-auth-master\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _slicedToArray from\"E:\\\\chaplathanda\\\\react-redux-hooks-jwt-auth-master\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import{Button,List,ListItem,TextField,Typography}from'@material-ui/core';import Axios from'axios';import React,{useState}from'react';import{useSelector}from'react-redux';import Snackbar from'@material-ui/core/Snackbar';import MuiAlert from'@material-ui/lab/Alert';function Alert(props){return/*#__PURE__*/React.createElement(MuiAlert,Object.assign({elevation:6,variant:\"filled\"},props));}export default function Messages(props){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),opensnack=_useState2[0],setopensnack=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),snackMessage=_useState4[0],setsnackmessage=_useState4[1];var handleClose=function handleClose(event,reason){if(reason==='clickaway'){return;}setopensnack(false);};var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),currentmessage=_useState6[0],setcurrentmessage=_useState6[1];var responsedata=useSelector(function(state){return state.studentMessages;});var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),displaymessagelist=_useState8[0],setdisplaymessagelist=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),replybox=_useState10[0],setreplybox=_useState10[1];var messagedata=responsedata.totalmessagedata.response.data;var _useState11=useState(-1),_useState12=_slicedToArray(_useState11,2),currentIndex=_useState12[0],setCurrentIndex=_useState12[1];var _useState13=useState(''),_useState14=_slicedToArray(_useState13,2),values=_useState14[0],setvalues=_useState14[1];console.log(messagedata);var setactivemessage=function setactivemessage(messagedata,index){setcurrentmessage(messagedata);setCurrentIndex(index);console.log(messagedata,index);setdisplaymessagelist(!displaymessagelist);};var GotoBackMenu=function GotoBackMenu(){setdisplaymessagelist(false);setcurrentmessage('');};var replymessage=function replymessage(){setreplybox(!replybox);};var cancel=function cancel(){setreplybox(false);};// const SumitMessage =()=>{\n//     const data={\n//         replytext:values,\n//         mentoremail:currentmessage.mentoremail,\n//         studentemail:currentmessage.studentemail,\n//         messageid:currentmessage.messageid\n//     }\n//     console.log(data)\n//     Axios.put(\"http://localhost:8080/api/post/querydataforreply\",{data}).then(response=>{\n// console.log(response)\n// if(response.status==200){\n//     setsnackmessage(\"Message Sent\")\n//     setopensnack(true)\n// }\n// })}\nreturn/*#__PURE__*/React.createElement(React.Fragment,null,!displaymessagelist?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(List,null,messagedata&&messagedata.map(function(messagedata,index){var _React$createElement;return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(ListItem,(_React$createElement={button:true,key:messagedata,className:\"list-group-item \"+(index===currentIndex?\"active\":\"\"),onClick:function onClick(){return setactivemessage(messagedata,index);}},_defineProperty(_React$createElement,\"key\",index),_defineProperty(_React$createElement,\"style\",index===currentIndex?{backgroundColor:'#b1d9ab'}:null),_React$createElement),messagedata.mentoremail,\"  \",messagedata.updatedAt));}))):/*#__PURE__*/React.createElement(React.Fragment,null,\" \"),currentmessage?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Button,{onClick:GotoBackMenu},\"back\"),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Typography,{color:\"primary\",style:{fontSize:\"20px\"}},currentmessage.mentoremail)),/*#__PURE__*/React.createElement(\"div\",{style:{flexDirection:'row',display:'flex',paddingBottom:'10px'}},/*#__PURE__*/React.createElement(Typography,{color:\"primary\",style:{fontSize:\"15px\"}},currentmessage.updatedAt)),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Typography,{color:\"primary\",style:{fontSize:\"26px\",paddingBottom:'20px'}},\" \",currentmessage.messagetext)),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Typography,{color:\"primary\",style:{fontSize:\"26px\",paddingBottom:'10px'}},\" \",currentmessage.replytext)))):/*#__PURE__*/React.createElement(React.Fragment,null),/*#__PURE__*/React.createElement(Snackbar,{open:opensnack,autoHideDuration:6000,onClose:handleClose,anchorOrigin:{vertical:'top',horizontal:\"center\"}},/*#__PURE__*/React.createElement(Alert,{onClose:handleClose,severity:\"success\"},snackMessage)));}","map":{"version":3,"sources":["E:/chaplathanda/react-redux-hooks-jwt-auth-master/frontend/src/components/StudentMessagePanel.js"],"names":["Button","List","ListItem","TextField","Typography","Axios","React","useState","useSelector","Snackbar","MuiAlert","Alert","props","Messages","opensnack","setopensnack","snackMessage","setsnackmessage","handleClose","event","reason","currentmessage","setcurrentmessage","responsedata","state","studentMessages","displaymessagelist","setdisplaymessagelist","replybox","setreplybox","messagedata","totalmessagedata","response","data","currentIndex","setCurrentIndex","values","setvalues","console","log","setactivemessage","index","GotoBackMenu","replymessage","cancel","map","backgroundColor","mentoremail","updatedAt","fontSize","flexDirection","display","paddingBottom","messagetext","replytext","vertical","horizontal"],"mappings":"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","sourcesContent":["import { Button, List, ListItem, TextField, Typography } from '@material-ui/core';\r\nimport Axios from 'axios';\r\nimport React, { useState } from 'react'\r\nimport { useSelector } from 'react-redux';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport MuiAlert from '@material-ui/lab/Alert';\r\n\r\n\r\n\r\nfunction Alert(props) {\r\n    return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\r\n  }\r\n\r\nexport default function Messages(props) {\r\n\r\n\r\n\r\n    const [opensnack,setopensnack]=useState(false)\r\n\r\n    const [snackMessage,setsnackmessage]=useState('')\r\n    const handleClose = (event, reason) => {\r\n        if (reason === 'clickaway') {\r\n          return;\r\n        }\r\n    \r\n        setopensnack(false);\r\n      };\r\n    \r\n  \r\n\r\n\r\n\r\n\r\n    const [currentmessage, setcurrentmessage] = useState('')\r\n\r\n    const responsedata = useSelector((state) => state.studentMessages)\r\n\r\n    const [displaymessagelist, setdisplaymessagelist] = useState(false)\r\n\r\nconst [replybox,setreplybox]=useState(false)\r\n\r\n    const messagedata = responsedata.totalmessagedata.response.data\r\n\r\n    const [currentIndex, setCurrentIndex] = useState(-1);\r\n\r\n\r\n\r\n    const[values,setvalues]=useState('')\r\n\r\n    console.log(messagedata)\r\n\r\n\r\n\r\n    const setactivemessage = (messagedata, index) => {\r\n\r\n        setcurrentmessage(messagedata)\r\n        setCurrentIndex(index);\r\n\r\n        console.log(messagedata, index)\r\n\r\n\r\n        setdisplaymessagelist(!displaymessagelist)\r\n\r\n      \r\n\r\n\r\n\r\n\r\n    }\r\n\r\n\r\n    const GotoBackMenu =()=>{\r\n\r\n        setdisplaymessagelist(false)\r\n        setcurrentmessage('')\r\n\r\n    }\r\n\r\n    const replymessage = ()=>{\r\n\r\n        setreplybox(!replybox)\r\n\r\n    }\r\n\r\n    const cancel = ( )=>{\r\n        setreplybox(false)\r\n    }\r\n\r\n\r\n    // const SumitMessage =()=>{\r\n        \r\n\r\n    //     const data={\r\n\r\n    //         replytext:values,\r\n    //         mentoremail:currentmessage.mentoremail,\r\n    //         studentemail:currentmessage.studentemail,\r\n    //         messageid:currentmessage.messageid\r\n\r\n    //     }\r\n\r\n    //     console.log(data)\r\n\r\n    //     Axios.put(\"http://localhost:8080/api/post/querydataforreply\",{data}).then(response=>{\r\n    // console.log(response)\r\n\r\n    // if(response.status==200){\r\n    //     setsnackmessage(\"Message Sent\")\r\n\r\n    //     setopensnack(true)\r\n    // }\r\n\r\n       \r\n\r\n    // })}\r\n\r\n    \r\n\r\n    return (\r\n        <>\r\n\r\n\r\n        {!(displaymessagelist) ? (<> \r\n\r\n\r\n\r\n            <List>\r\n                {messagedata &&\r\n                    messagedata.map((messagedata, index) => (\r\n\r\n\r\n                        <>\r\n\r\n                            <ListItem button key={messagedata}\r\n                                className={\r\n                                    \"list-group-item \" + (index === currentIndex ? \"active\" : \"\")\r\n\r\n                                }\r\n                                onClick={() => setactivemessage(messagedata, index)}\r\n                                key={index}\r\n                                style={(index === currentIndex ? { backgroundColor: '#b1d9ab' } : null)}\r\n \r\n\r\n                            >\r\n                                {messagedata.mentoremail}  {messagedata.updatedAt}\r\n                            </ListItem>\r\n                        </>\r\n                    ))}\r\n            </List>\r\n        \r\n        \r\n        </>) \r\n        \r\n        \r\n        :( <> </>)}\r\n\r\n\r\n\r\n           \r\n\r\n\r\n            { currentmessage ? (<>\r\n\r\n\r\n\r\n<Button onClick={GotoBackMenu}>back</Button>\r\n\r\n<div >\r\n\r\n\r\n   \r\n<div>\r\n\r\n    \r\n   <Typography color='primary'  style={{fontSize:\"20px\"}}>{currentmessage.mentoremail}</Typography>\r\n\r\n</div>\r\n\r\n<div style={{flexDirection:'row',display:'flex',paddingBottom:'10px'}}>\r\n\r\n\r\n<Typography  color='primary' style={{fontSize:\"15px\"}}>{currentmessage.updatedAt}</Typography>\r\n</div>\r\n\r\n<div>\r\n<Typography  color='primary'  style={{fontSize:\"26px\",paddingBottom:'20px'}}> {currentmessage.messagetext}</Typography>\r\n\r\n</div>\r\n\r\n<div>\r\n<Typography  color='primary'  style={{fontSize:\"26px\",paddingBottom:'10px'}}> {currentmessage.replytext}</Typography>\r\n\r\n</div>\r\n\r\n\r\n{/* <Button  variant='outlined'  color='primary' style={{paddingBottom:'10px'}}  onClick={replymessage}>Reply</Button> */}\r\n\r\n\r\n\r\n{/* {(replybox) && <> */}\r\n\r\n{/* <div> */}\r\n    {/* <div>\r\n<TextField\r\n\r\n        style={{width:'100%'}}\r\n          id=\"outlined-multiline-static\"\r\n          label=\"Message\"\r\n          multiline\r\n          rows={13}\r\n          defaultValue=\"Default Value\"\r\n          variant=\"outlined\"\r\n          onChange={(e)=>{\r\n              setvalues(e.target.value)\r\n          }}\r\n\r\n        />\r\n        </div> */}\r\n\r\n{/* <div>\r\n        <Button onClick={SumitMessage}>Send</Button>\r\n\r\n        <Button onClick={cancel}>Cancel</Button>\r\n        </div> */}\r\n        {/* </div> */}\r\n\r\n {/* </>} */}\r\n\r\n\r\n\r\n\r\n\r\n\r\n</div>\r\n\r\n           \r\n\r\n\r\n\r\n            </>) : (<>\r\n\r\n\r\n            </>)}\r\n\r\n\r\n\r\n            <Snackbar open={opensnack} autoHideDuration={6000} onClose={handleClose}\r\n            \r\n            anchorOrigin={{ vertical:'top', horizontal:\"center\" }}>\r\n        <Alert onClose={handleClose} severity=\"success\">\r\n          {snackMessage}\r\n        </Alert>\r\n      </Snackbar>\r\n\r\n\r\n        </>\r\n    )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}