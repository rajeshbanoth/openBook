{"ast":null,"code":"import _slicedToArray from\"E:\\\\chaplathanda\\\\react-redux-hooks-jwt-auth-master\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import axios from'axios';import React,{useState}from'react';import{useSelector}from'react-redux';export default function Fileupload(props){var _useSelector=useSelector(function(state){return state.auth;}),currentUser=_useSelector.user;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),imgCollection=_useState2[0],setimgCollection=_useState2[1];var id=currentUser.id;console.log(id);var onFileChange=function onFileChange(e){setimgCollection(e.target.value);};var onSubmit=function onSubmit(e){e.preventDefault();var formData=new FormData();for(var _i=0,_Object$keys=Object.keys(imgCollection);_i<_Object$keys.length;_i++){var key=_Object$keys[_i];formData.append('imgCollection',imgCollection[key]);formData.append('id',id);}axios.post(\"http://localhost:8080/fileUpload/upload-images\",formData,{}).then(function(res){console.log(res.data);});};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"form\",{onSubmit:onSubmit},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"input\",{type:\"file\",name:\"imgCollection\",onChange:onFileChange,multiple:true})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-primary\",type:\"submit\"},\"Upload\"))))));}","map":{"version":3,"sources":["E:/chaplathanda/react-redux-hooks-jwt-auth-master/frontend/src/components/FileUpload.js"],"names":["axios","React","useState","useSelector","Fileupload","props","state","auth","currentUser","user","imgCollection","setimgCollection","id","console","log","onFileChange","e","target","value","onSubmit","preventDefault","formData","FormData","Object","keys","key","append","post","then","res","data"],"mappings":"yLAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,WAAT,KAA4B,aAA5B,CAGA,cAAe,SAASC,CAAAA,UAAT,CAAoBC,KAApB,CAA2B,kBAERF,WAAW,CAAC,SAACG,KAAD,QAAWA,CAAAA,KAAK,CAACC,IAAjB,EAAD,CAFH,CAExBC,WAFwB,cAE9BC,IAF8B,eAIAP,QAAQ,CAAC,EAAD,CAJR,wCAIhCQ,aAJgC,eAIlBC,gBAJkB,eAM1C,GAAMC,CAAAA,EAAE,CAAEJ,WAAW,CAAEI,EAAvB,CAEAC,OAAO,CAACC,GAAR,CAAYF,EAAZ,EAIG,GAAOG,CAAAA,YAAY,CAAC,QAAbA,CAAAA,YAAa,CAACC,CAAD,CAAM,CAGrBL,gBAAgB,CAACK,CAAC,CAACC,MAAF,CAASC,KAAV,CAAhB,CACH,CAJF,CAMC,GAAMC,CAAAA,QAAQ,CAAC,QAATA,CAAAA,QAAS,CAACH,CAAD,CAAM,CACjBA,CAAC,CAACI,cAAF,GAEA,GAAIC,CAAAA,QAAQ,CAAG,GAAIC,CAAAA,QAAJ,EAAf,CACA,0BAAkBC,MAAM,CAACC,IAAP,CAAYd,aAAZ,CAAlB,6BAA8C,CAAzC,GAAMe,CAAAA,GAAG,iBAAT,CACDJ,QAAQ,CAACK,MAAT,CAAgB,eAAhB,CAAiChB,aAAa,CAACe,GAAD,CAA9C,EACAJ,QAAQ,CAACK,MAAT,CAAgB,IAAhB,CAAqBd,EAArB,EACH,CACDZ,KAAK,CAAC2B,IAAN,CAAW,gDAAX,CAA6DN,QAA7D,CAAuE,EAAvE,EACGO,IADH,CACQ,SAAAC,GAAG,CAAI,CACXhB,OAAO,CAACC,GAAR,CAAYe,GAAG,CAACC,IAAhB,EACH,CAHD,EAIH,CAZD,CAiBA,mBACI,qDACM,2BAAK,SAAS,CAAC,WAAf,eACE,2BAAK,SAAS,CAAC,KAAf,eACI,4BAAM,QAAQ,CAAEX,QAAhB,eACI,2BAAK,SAAS,CAAC,YAAf,eACI,6BAAO,IAAI,CAAC,MAAZ,CAAmB,IAAI,CAAC,eAAxB,CAAwC,QAAQ,CAAEJ,YAAlD,CAAgE,QAAQ,KAAxE,EADJ,CADJ,cAII,2BAAK,SAAS,CAAC,YAAf,eACI,8BAAQ,SAAS,CAAC,iBAAlB,CAAoC,IAAI,CAAC,QAAzC,WADJ,CAJJ,CADJ,CADF,CADN,CADJ,CAiBH","sourcesContent":["import axios from 'axios';\r\nimport React, { useState } from 'react'\r\nimport { useSelector } from 'react-redux';\r\n\r\n\r\nexport default function Fileupload(props) {\r\n\r\n    const { user: currentUser } = useSelector((state) => state.auth);\r\n\r\n    const[imgCollection,setimgCollection]=useState('')\r\n\r\nconst id =currentUser .id\r\n\r\nconsole.log(id)\r\n\r\n\r\n\r\n   const  onFileChange=(e)=> {\r\n        \r\n\r\n        setimgCollection(e.target.value)\r\n    }\r\n\r\n    const onSubmit=(e)=> {\r\n        e.preventDefault()\r\n\r\n        var formData = new FormData();\r\n        for (const key of Object.keys(imgCollection)) {\r\n            formData.append('imgCollection', imgCollection[key])\r\n            formData.append('id',id)\r\n        }\r\n        axios.post(\"http://localhost:8080/fileUpload/upload-images\", formData, {\r\n        }).then(res => {\r\n            console.log(res.data)\r\n        })\r\n    }\r\n\r\n\r\n    \r\n\r\n    return (\r\n        <>\r\n              <div className=\"container\">\r\n                <div className=\"row\">\r\n                    <form onSubmit={onSubmit}>\r\n                        <div className=\"form-group\">\r\n                            <input type=\"file\" name=\"imgCollection\" onChange={onFileChange} multiple />\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <button className=\"btn btn-primary\" type=\"submit\">Upload</button>\r\n                        </div>\r\n                    </form>\r\n                    \r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}